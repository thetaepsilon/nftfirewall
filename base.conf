#!/usr/bin/nft -f

# do not edit this file.
# this base file is considered to be immutable and version controlled.
# edit the conf files to alter the generated fragments instead.

# ruleset is intended for one big atomic flush-and-reapply.
# helps prevent stale state issues.
flush ruleset

# any chains requested for inclusions


# the general design of the firewall is that each interface gets it's own chain immediately, no exceptions.
# this is the only real way to prevent policy from leaking.
table inet ipnet {
	include "gen/chain-includes.conf"
	include "gen/interfaces/base-chains.conf"
	chain input {
		type filter hook input priority 0;
		policy drop;
		include "gen/interfaces/jumps-in.conf"
		drop;
	}
	chain forward {
		type filter hook forward priority 0;
		policy drop;
		drop;
	}
	chain output {
		type filter hook output priority 0;
		policy drop;
		include "gen/interfaces/jumps-out.conf"
		drop;
	}
}
